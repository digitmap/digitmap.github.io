<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>KDP is Power!</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
    <link href="styles/style.css" rel="stylesheet" type="text/css">
    <meta name="description" content="The KDP web site provide all necessary knowledge about persuasion!" />
    <meta name="author" content="Jacky Zhou" />
    <!-- twitter summary card -->
    <meta name="twitter:card" content="summary" />
    <!-- <meta name="twitter:site" content="@flickr" /> -->
    <meta name="twitter:title" content="KDP" />
    <meta name="twitter:description" content="KDP is Power for Everyone, for World!" />
    <!-- <meta name="twitter:image" content="https://kdplat.neocities.org/images/Champions%20League.jpg" /> -->
    <meta name="twitter:image" content="https://digitmap.github.io/images/所罗门的智慧.jpg" />
<!--2023年5月4日17时06分24秒-->
  <link rel="icon" href="2.ico" type="image/x-icon" />
  </head>
  <body>
    <button id="make-promise">Make a promise!</button>
    <div id="log"></div>
  
      <script>
        "use strict";
  
  let promiseCount = 0;
  
  function testPromise() {
    const thisPromiseCount = ++promiseCount;
    const log = document.getElementById("log");
    // begin
    log.insertAdjacentHTML("beforeend", `${thisPromiseCount}) Started<br>`);
    // We make a new promise: we promise a numeric count of this promise,
    // starting from 1 (after waiting 3s)
    const p1 = new Promise((resolve, reject) => {
      // The executor function is called with the ability
      // to resolve or reject the promise
      log.insertAdjacentHTML(
        "beforeend",
        `${thisPromiseCount}) Promise constructor<br>`,
      );
      // This is only an example to create asynchronism
      setTimeout(
        () => {
          // We fulfill the promise
          resolve(thisPromiseCount);
        },
        Math.random() * 2000 + 1000,
      );
    });
  
    // We define what to do when the promise is resolved with the then() call,
    // and what to do when the promise is rejected with the catch() call
    p1.then((val) => {
      // Log the fulfillment value
      log.insertAdjacentHTML("beforeend", `${val}) Promise fulfilled<br>`);
    }).catch((reason) => {
      // Log the rejection reason
      console.log(`Handle rejected promise (${reason}) here.`);
    });
    // end
    log.insertAdjacentHTML("beforeend", `${thisPromiseCount}) Promise made<br>`);
  }
  
  const btn = document.getElementById("make-promise");
  btn.addEventListener("click", testPromise);
  
      </script>
  </body>
</html>

